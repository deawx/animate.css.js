{"version":3,"sources":["animate.jquery.js"],"names":["factory","define","amd","exports","module","require","window","jQuery","Error","animatecssjs","$","animate","options","animateClass","$el","$html","hoverflow","animateFilterList","$promise","Deferred","$e","length","removeClass","animateList","join","type","isArray","Math","floor","random","keyword","RegExp","exec","forEach","item","test","push","indexOf","css","infinite","resolve","split","addClass","one","reset","isFunction","callback","reject","fn","extend","animateCss","opts","this"],"mappings":"AASA,cAGC,SAAWA,GACR,GAAsB,kBAAXC,SAAyBA,OAAOC,IACvCD,OAAO,gBAAiB,UAAWD,OAChC,IAAuB,gBAAZG,UAA0C,gBAAXC,QAC7CA,OAAOD,QAAUH,EAAQK,QAAQ,eAC9B,CAAA,IAAIC,OAAOC,OAGd,KAAM,IAAIC,OAAM,oBAFhBF,QAAOG,aAAeT,EAAQM,OAAOC,UAI1C,SAAUG,GAgCT,QAASC,GAAQC,GAEb,GAEIC,GACAC,EACAC,EACAC,EALAC,KACAC,EAAWR,EAAES,UAMjB,OAAKP,IAIsB,gBAAhBA,GAAQE,IACfA,EAAMJ,EAAEE,EAAQE,KACa,gBAAfF,GAAQQ,KACtBN,EAAMJ,EAAEE,EAAQQ,KAGpBN,EAAMJ,EAAEE,EAAQE,KAAOF,EAAQQ,IAE1BN,EAAIO,QAKTP,EAAIQ,YAAYC,EAAYC,KAAK,KAAO,sBAExCX,EAAeD,EAAQa,MAAQb,EAAQC,aACnCH,EAAEgB,QAAQb,KACVA,EAAeA,EAAac,KAAKC,MAAMD,KAAKE,SAAWhB,EAAaQ,WAInER,GAAgBD,EAAQkB,UACM,gBAApBlB,GAAQkB,UACflB,EAAQkB,QAAU,GAAIC,QAAOnB,EAAQkB,QAAS,MAGnB,gBAApBlB,GAAQkB,SAAwBlB,EAAQkB,QAAQE,OACvDT,EAAYU,QAAQ,SAAUC,GACtBtB,EAAQkB,QAAQK,KAAKD,IACrBjB,EAAkBmB,KAAKF,KAI/BrB,EAAeI,EAAkBU,KAAKC,MAAMD,KAAKE,SAAWZ,EAAkBI,YAKhFE,EAAYc,QAAQxB,KACtBA,EAAeU,EAAYI,KAAKC,MAAMD,KAAKE,SAAWN,EAAYF,UAGtER,GAAgB,YAEhBE,EAAQL,EAAE,cACVM,EAAYD,EAAMuB,IAAI,YAElB1B,EAAQ2B,UACR1B,GAAgB,YAEhBK,EAASsB,QAAQ3B,EAAa4B,MAAM,aAAa,KAEjD1B,EAAMuB,IAAI,WAAY,UAG1BxB,EAAIQ,YAAYC,EAAYC,KAAK,MAAMF,YAAYT,GAC9C6B,SAAS7B,GACT8B,IAAI,+EAAgF,WACjF5B,EAAMuB,IAAI,WAAYtB,GAElBJ,EAAQgC,SAAU,GAClB9B,EAAIQ,YAAYT,GAGhBH,EAAEmC,WAAWjC,EAAQkC,WACrBlC,EAAQkC,WAIZ5B,EAASsB,QAAQ3B,EAAa4B,MAAM,aAAa,MAGlDvB,GA/DIA,EAAS6B,OAAO,sBAZhB7B,EAAS6B,OAAO,iBAxC/B,GAAIxB,IACA,SAAU,QAAS,QAAS,aAAc,QAAS,QAAS,OAAQ,SAAU,QAC9E,WAAY,eAAgB,eAAgB,gBAAiB,aAAc,YAAa,gBAAiB,gBAAiB,iBAAkB,cAC5I,SAAU,aAAc,gBAAiB,aAAc,gBAAiB,cAAe,iBAAkB,WAAY,cACrH,UAAW,cAAe,iBAAkB,cAAe,iBAAkB,eAAgB,kBAAmB,YAAa,eAC7H,OAAQ,UAAW,UAAW,WAAY,WAC1C,eAAgB,gBAChB,WAAY,mBAAoB,oBAAqB,iBAAkB,kBACvE,YAAa,oBAAqB,qBAAsB,kBAAmB,mBAC3E,YAAa,cAAe,cAAe,eAAgB,aAAc,eAAgB,eAAgB,gBACzG,SAAU,aAAc,aAAc,cAAe,WAAY,UAAW,cAAe,cAAe,eAAgB,YAC1H,QAAS,SAAU,UA4HvB,OAjBAZ,GAAQY,YAAcA,EAGtBb,EAAEsC,GAAGC,QACDC,WAAY,SAAUC,GASlB,MARI,gBAAoBA,KACpBA,GAAQ1B,KAAM0B,IAGlBA,EAAOzC,EAAEuC,UAAWE,GAChBrC,IAAKJ,EAAE0C,QAGJzC,EAAQwC,MAIhBxC","file":"dist/animate.jquery.min.js","sourcesContent":["/**\n * @file animate 组件，设置元素动画。依赖于 animate.css\n * @author lizhiwen@meizu.com\n * @sine   2016-04-05\n * @update 2016-09-17\n * @module dwAnimate\n * @see 动画效果参见 ${@link https://daneden.github.io/animate.css/ animate.css}\n * @github https://github.com/lzwme/animate.css.js\n */\n'use strict';\n// import 'animate.css';\n\n;(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define('animatecssjs', ['jquery'], factory);\n    } else if (typeof exports === 'object' && typeof module === 'object') {\n        module.exports = factory(require('jquery'));\n    } else if (window.jQuery) {\n        window.animatecssjs = factory(window.jQuery);\n    } else {\n        throw new Error('Not found jQuery.');\n    }\n})(function ($) {\n    // 75 种效果\n    var animateList = [\n        'bounce', 'flash', 'pulse', 'rubberBand', 'shake', 'swing', 'tada', 'wobble', 'jello',\n        'bounceIn', 'bounceInDown', 'bounceInLeft', 'bounceInRight', 'bounceInUp', 'bounceOut', 'bounceOutDown', 'bounceOutLeft', 'bounceOutRight', 'bounceOutUp',\n        'fadeIn', 'fadeInDown', 'fadeInDownBig', 'fadeInLeft', 'fadeInLeftBig', 'fadeInRight', 'fadeInRightBig', 'fadeInUp', 'fadeInUpBig',\n        'fadeOut', 'fadeOutDown', 'fadeOutDownBig', 'fadeOutLeft', 'fadeOutLeftBig', 'fadeOutRight', 'fadeOutRightBig', 'fadeOutUp', 'fadeOutUpBig',\n        'flip', 'flipInX', 'flipInY', 'flipOutX', 'flipOutY',\n        'lightSpeedIn', 'lightSpeedOut',\n        'rotateIn', 'rotateInDownLeft', 'rotateInDownRight', 'rotateInUpLeft', 'rotateInUpRight',\n        'rotateOut', 'rotateOutDownLeft', 'rotateOutDownRight', 'rotateOutUpLeft', 'rotateOutUpRight',\n        'slideInUp', 'slideInDown', 'slideInLeft', 'slideInRight', 'slideOutUp', 'slideOutDown', 'slideOutLeft', 'slideOutRight',\n        'zoomIn', 'zoomInDown', 'zoomInLeft', 'zoomInRight', 'zoomInUp', 'zoomOut', 'zoomOutDown', 'zoomOutLeft', 'zoomOutRight', 'zoomOutUp',\n        'hinge', 'rollIn', 'rollOut'\n    ];\n\n    /**\n     * animate 设置元素动画。依赖于 animate.css，应手动引入相关样式\n     * @alias module:dwAnimate\n     * @param {Object} options 主要参数示例：\n     * ```js\n     * {\n     *     $el: null, 执行动画的元素jquery对象，或 class\\id\n     *     type: null, 动画类型，为 string。为空时随机取值执行；为数组列表时从列表中随机选择执行\n     *     infinite: false, 是否无限运动\n     *     keyword: '', 为随机取值时，限定包含关键字的动画列表。可为简单正则，未匹配到则随机取值\n     *     reset: true,  执行后是否重置状态\n     *     callback infinite为 false 时，成功执行后回调\n     * }\n     * ```\n     * @return {Object}         $.Deferred 对象，当 infinite 为false时，动画执行完成后设置其状态为 resolved\n     */\n    function animate(options) {\n        // 支持的动画类型，75 种\n        var animateFilterList = [], // 用于 keyword 过滤\n            $promise = $.Deferred(),\n            animateClass,\n            $el,\n            $html,\n            hoverflow;\n\n        if (!options) {\n            return $promise.reject('empty options');\n        }\n\n        if (typeof options.$el === 'string') {\n            $el = $(options.$el);\n        } else if (typeof options.$e === 'string') {\n            $el = $(options.$e);\n        }\n\n        $el = $(options.$el || options.$e);\n\n        if (!$el.length) { // 元素不存在\n            return $promise.reject('not found element');\n        }\n\n        // 首先移除所有已加载的动画类\n        $el.removeClass(animateList.join(' ') + ' infinite animated');\n\n        animateClass = options.type || options.animateClass;\n        if ($.isArray(animateClass)) { // 给定数组中随机显示\n            animateClass = animateClass[Math.floor(Math.random() * animateClass.length)];\n        }\n\n        // 过滤关键字的随机取值，keyword 可为字符串或正则表达式\n        if (!animateClass && options.keyword) {\n            if (typeof options.keyword === 'string') {\n                options.keyword = new RegExp(options.keyword, 'i');\n            }\n\n            if (typeof options.keyword === 'object' && options.keyword.exec) {\n                animateList.forEach(function (item) {\n                    if (options.keyword.test(item)) {\n                        animateFilterList.push(item);\n                    }\n                });\n\n                animateClass = animateFilterList[Math.floor(Math.random() * animateFilterList.length)];\n            }\n        }\n\n        // 随机取值\n        if (!~animateList.indexOf(animateClass)) {\n            animateClass = animateList[Math.floor(Math.random() * animateList.length)];\n        }\n\n        animateClass += ' animated';\n\n        $html = $('html:eq(0)');\n        hoverflow = $html.css('overflow');\n\n        if (options.infinite) {\n            animateClass += ' infinite';\n            // 标记执行完成\n            $promise.resolve(animateClass.split(' animated')[0]);\n        } else {\n            $html.css('overflow', 'hidden');\n        }\n\n        $el.removeClass(animateList.join(' ')).removeClass(animateClass)\n            .addClass(animateClass)\n            .one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {\n                $html.css('overflow', hoverflow);\n\n                if (options.reset !== false) { // 是否复原状态\n                    $el.removeClass(animateClass);\n                }\n\n                if ($.isFunction(options.callback)) {\n                    options.callback();\n                }\n\n                // 标记执行完成\n                $promise.resolve(animateClass.split(' animated')[0]);\n            });\n\n        return $promise;\n    }\n\n    animate.animateList = animateList;\n\n    // jQuery plugins\n    $.fn.extend({\n        animateCss: function (opts) {\n            if ('string' === typeof opts) {\n                opts = {type: opts};\n            }\n\n            opts = $.extend({}, opts, {\n                $el: $(this)\n            });\n\n            return animate(opts);\n        }\n    });\n\n    return animate;\n});\n"]}